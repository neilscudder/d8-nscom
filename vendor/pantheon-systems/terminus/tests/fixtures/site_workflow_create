
-
    request:
        method: GET
        url: 'https://dashboard.getpantheon.com/api/sites/4ff603ab-57cd-4b66-aebd-781a58e3b3fd/workflows?type=update_site_organization_membership'
        headers:
            Host: dashboard.pantheon.io
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.14&script=unknown)'
            Cookie: X-Pantheon-Session=0ffec038-4410-43d0-a404-46997f672d7a%3A6dc10b96-dd7a-11e4-8758-bc764e1113b5%3ASnT0EvWm3hAFLPP6YLBgr
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 07 Apr 2015 23:26:21 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 7f97c1e0-dd7d-11e4-b0d1-af17478ef1b3
            X-Frame-Options: deny
            Access-Control-Allow-Origin: 'https://dashboard.pantheon.io'
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"Y2ZICJQGABwG5dS5ZW2fcg=="'
            Vary: Accept-Encoding
        body: '[{"final_task_id": "10baa252-dd7c-11e4-838f-bc764e111d20", "finished_at": 1428448575.721002, "params": {}, "result": "succeeded", "role": "super", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448565.581613, "task_ids": ["10baa252-dd7c-11e4-838f-bc764e111d20"], "trace_id": "10b04c30-dd7c-11e4-b459-8bd9f0cb6a02", "type": "update_site_status", "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "waiting_for_task_id": null, "id": "10b4401a-dd7c-11e4-838f-bc764e111d20", "key": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "environment": null, "environment_id": null, "keep_forever": false, "phase": "finished", "created_at": 1428448565.388905, "total_time": 10.332097053527832, "trace_log_url": "https://logs.getpantheon.com:443//#/dashboard/file/Trace_Id.json?trace_id=10b04c30-dd7c-11e4-b459-8bd9f0cb6a02&from_iso_date=2015-04-07T23:11:05.388905Z&to_iso_date=2015-04-07T23:21:15.721002Z", "active_description": "Updated site status", "user": {"email": "ben@getpantheon.com"}, "final_task": {"build": {"url": "job/update_statuses_for_site/1329744/", "number": 1329744, "phase": "STARTED", "estimated_duration": 24876, "duration": 0, "full_url": "https://166.78.101.87:8090/jenkins/job/update_statuses_for_site/1329744/"}, "details": {}, "environment": null, "finished_at": 1428448575.686812, "fn_name": "queue_jenkins_task", "params": {"host": "ellis.live.getpantheon.com", "task_type": "update_statuses_for_site", "site": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "job_id": "10baa252-dd7c-11e4-838f-bc764e111d20"}, "queued_at": 1428448565.58205, "responses": [{"code": 302, "body": "Successfully queued update_statuses_for_site"}], "result": "succeeded", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448566.349321, "trace_id": "10b04c30-dd7c-11e4-b459-8bd9f0cb6a02", "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "workflow_id": "10b4401a-dd7c-11e4-838f-bc764e111d20", "id": "10baa252-dd7c-11e4-838f-bc764e111d20", "key": "1428447600", "created_at": 1428448565.430741, "queued_time": 0.7672708034515381, "run_time": 9.337491035461426, "phase": "finished", "allow_concurrent": false, "total_time": 10.256070852279663, "type": "update_statuses_for_site", "build_url": "https://166.78.101.87:8090/jenkins/job/update_statuses_for_site/1329744/", "messages": {"2015-04-07T23:26:21.323092": {"message": "Successfully queued update_statuses_for_site", "level": "INFO"}}, "trace_log_url": "https://logs.getpantheon.com:443//#/dashboard/file/Trace_Id.json?trace_id=10b04c30-dd7c-11e4-b459-8bd9f0cb6a02&from_iso_date=2015-04-07T23:11:05.430741Z&to_iso_date=2015-04-07T23:21:15.686812Z"}, "waiting_for_task": null, "number_of_tasks": 1, "step": 1, "user_email": "ben@getpantheon.com", "description": "Update site status"}, {"final_task_id": "ac6088f8-dd7b-11e4-838f-bc764e111d20", "finished_at": 1428448400.513527, "params": {}, "result": "succeeded", "role": "super", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448397.122078, "task_ids": ["ac6088f8-dd7b-11e4-838f-bc764e111d20"], "trace_id": "ac48b700-dd7b-11e4-b0d1-af17478ef1b3", "type": "update_site_status", "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "waiting_for_task_id": null, "id": "ac5d95f8-dd7b-11e4-838f-bc764e111d20", "key": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "environment": null, "environment_id": null, "keep_forever": false, "phase": "finished", "created_at": 1428448397.04878, "total_time": 3.4647469520568848, "trace_log_url": "https://logs.getpantheon.com:443//#/dashboard/file/Trace_Id.json?trace_id=ac48b700-dd7b-11e4-b0d1-af17478ef1b3&from_iso_date=2015-04-07T23:08:17.048780Z&to_iso_date=2015-04-07T23:18:20.513527Z", "active_description": "Updated site status", "user": {"email": "ben@getpantheon.com"}, "final_task": {"build": {"url": "job/update_statuses_for_site/1329734/", "number": 1329734, "phase": "STARTED", "estimated_duration": 14725, "duration": 0, "full_url": "https://166.78.101.87:8090/jenkins/job/update_statuses_for_site/1329734/"}, "details": {}, "environment": null, "finished_at": 1428448400.490623, "fn_name": "queue_jenkins_task", "params": {"host": "ellis.live.getpantheon.com", "task_type": "update_statuses_for_site", "site": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "job_id": "ac6088f8-dd7b-11e4-838f-bc764e111d20"}, "queued_at": 1428448397.122499, "responses": [{"code": 302, "body": "Successfully queued update_statuses_for_site"}], "result": "succeeded", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448397.589717, "trace_id": "ac48b700-dd7b-11e4-b0d1-af17478ef1b3", "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "workflow_id": "ac5d95f8-dd7b-11e4-838f-bc764e111d20", "id": "ac6088f8-dd7b-11e4-838f-bc764e111d20", "key": "1428447600", "created_at": 1428448397.068108, "queued_time": 0.46721792221069336, "run_time": 2.9009060859680176, "phase": "finished", "allow_concurrent": false, "total_time": 3.4225149154663086, "type": "update_statuses_for_site", "build_url": "https://166.78.101.87:8090/jenkins/job/update_statuses_for_site/1329734/", "messages": {"2015-04-07T23:26:21.345520": {"message": "Successfully queued update_statuses_for_site", "level": "INFO"}}, "trace_log_url": "https://logs.getpantheon.com:443//#/dashboard/file/Trace_Id.json?trace_id=ac48b700-dd7b-11e4-b0d1-af17478ef1b3&from_iso_date=2015-04-07T23:08:17.068108Z&to_iso_date=2015-04-07T23:18:20.490623Z"}, "waiting_for_task": null, "number_of_tasks": 1, "step": 1, "user_email": "ben@getpantheon.com", "description": "Update site status"}, {"final_task_id": "aa283a22-dd7b-11e4-9be3-bc764e100926", "finished_at": 1428448393.497315, "params": {"user_id": "0ffec038-4410-43d0-a404-46997f672d7a"}, "result": "succeeded", "role": "super", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448393.391782, "task_ids": ["aa283a22-dd7b-11e4-9be3-bc764e100926"], "trace_id": "aa1f4750-dd7b-11e4-aa58-938fe8e7584a", "type": "promote_site_user_to_owner", "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "waiting_for_task_id": null, "id": "aa2362ae-dd7b-11e4-9be3-bc764e100926", "key": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "environment": null, "environment_id": null, "keep_forever": false, "phase": "finished", "created_at": 1428448393.311915, "total_time": 0.18540000915527344, "trace_log_url": "https://logs.getpantheon.com:443//#/dashboard/file/Trace_Id.json?trace_id=aa1f4750-dd7b-11e4-aa58-938fe8e7584a&from_iso_date=2015-04-07T23:08:13.311915Z&to_iso_date=2015-04-07T23:18:13.497315Z", "active_description": "Promoted user to owner", "user": {"email": "ben@getpantheon.com"}, "final_task": {"environment": null, "finished_at": 1428448393.427853, "fn_name": "trigger_task", "params": {"site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "task_type": "promote_site_user_to_owner", "user_id": "0ffec038-4410-43d0-a404-46997f672d7a"}, "queued_at": 1428448393.392296, "responses": [{"code": 200, "body": "OK"}], "result": "succeeded", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448393.3923, "trace_id": "aa1f4750-dd7b-11e4-aa58-938fe8e7584a", "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "workflow_id": "aa2362ae-dd7b-11e4-9be3-bc764e100926", "id": "aa283a22-dd7b-11e4-9be3-bc764e100926", "key": "1428447600", "created_at": 1428448393.343645, "queued_time": 3.814697265625e-06, "run_time": 0.0355532169342041, "phase": "finished", "allow_concurrent": false, "total_time": 0.08420801162719727, "type": "promote_site_user_to_owner", "build_url": null, "messages": {"2015-04-07T23:26:21.360031": {"message": "OK", "level": "INFO"}}, "trace_log_url": "https://logs.getpantheon.com:443//#/dashboard/file/Trace_Id.json?trace_id=aa1f4750-dd7b-11e4-aa58-938fe8e7584a&from_iso_date=2015-04-07T23:08:13.343645Z&to_iso_date=2015-04-07T23:18:13.427853Z"}, "waiting_for_task": null, "number_of_tasks": 1, "step": 1, "user_email": "ben@getpantheon.com", "description": "Promote user to owner"}, {"final_task_id": "a1f2e46a-dd7b-11e4-bb21-bc764e111d20", "finished_at": 1428448381.11148, "params": {"role": "team_member", "user_email": "bensheldon+pantheontest@gmail.com"}, "result": "succeeded", "role": "super", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448379.634024, "task_ids": ["a1f2e46a-dd7b-11e4-bb21-bc764e111d20"], "trace_id": null, "type": "add_site_user_membership", "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "waiting_for_task_id": null, "id": "a1ee2b6e-dd7b-11e4-bb21-bc764e111d20", "key": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "environment": null, "environment_id": null, "keep_forever": false, "phase": "finished", "created_at": 1428448379.541387, "total_time": 1.5700929164886475, "trace_log_url": null, "active_description": "Added site user membership", "user": {"email": "ben@getpantheon.com"}, "final_task": {"environment": null, "finished_at": 1428448381.003951, "fn_name": "trigger_task", "params": {"site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "task_type": "add_site_user_membership", "role": "team_member", "user_email": "bensheldon+pantheontest@gmail.com"}, "queued_at": 1428448379.634736, "responses": [{"code": 200, "body": "Sent new site membership email to ''bensheldon+pantheontest@gmail.com''"}, {"code": 201, "body": {"role": "team_member", "archived": false, "invited_by_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "id": "0ffec038-4410-43d0-a404-46997f672d7a", "key": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "user_id": "0ffec038-4410-43d0-a404-46997f672d7a", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd"}}], "result": "succeeded", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448379.63474, "trace_id": null, "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "workflow_id": "a1ee2b6e-dd7b-11e4-bb21-bc764e111d20", "id": "a1f2e46a-dd7b-11e4-bb21-bc764e111d20", "key": "1428447600", "created_at": 1428448379.572337, "queued_time": 4.0531158447265625e-06, "run_time": 1.369210958480835, "phase": "finished", "allow_concurrent": false, "total_time": 1.4316141605377197, "type": "add_site_user_membership", "build_url": null, "messages": {"2015-04-07T23:26:21.373645": {"message": "Sent new site membership email to ''bensheldon+pantheontest@gmail.com''", "level": "INFO"}, "2015-04-07T23:26:21.373670": {"message": {"role": "team_member", "archived": false, "invited_by_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "id": "0ffec038-4410-43d0-a404-46997f672d7a", "key": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "user_id": "0ffec038-4410-43d0-a404-46997f672d7a", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd"}, "level": "INFO"}}, "trace_log_url": null}, "waiting_for_task": null, "number_of_tasks": 1, "step": 1, "user_email": "ben@getpantheon.com", "description": "Add site user membership"}, {"final_task_id": "966c9168-dd7b-11e4-93ef-bc764e100926", "finished_at": 1428448370.424563, "params": {}, "result": "succeeded", "role": "super", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448360.332709, "task_ids": ["966c9168-dd7b-11e4-93ef-bc764e100926"], "trace_id": "9665d710-dd7b-11e4-aa58-938fe8e7584a", "type": "update_site_status", "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "waiting_for_task_id": null, "id": "966a4430-dd7b-11e4-93ef-bc764e100926", "key": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "environment": null, "environment_id": null, "keep_forever": false, "phase": "finished", "created_at": 1428448360.222008, "total_time": 10.202554941177368, "trace_log_url": "https://logs.getpantheon.com:443//#/dashboard/file/Trace_Id.json?trace_id=9665d710-dd7b-11e4-aa58-938fe8e7584a&from_iso_date=2015-04-07T23:07:40.222008Z&to_iso_date=2015-04-07T23:17:50.424563Z", "active_description": "Updated site status", "user": {"email": "ben@getpantheon.com"}, "final_task": {"build": {"url": "job/update_statuses_for_site/1329731/", "number": 1329731, "phase": "STARTED", "estimated_duration": 6272, "duration": 0, "full_url": "https://166.78.101.87:8090/jenkins/job/update_statuses_for_site/1329731/"}, "details": {}, "environment": null, "finished_at": 1428448370.399429, "fn_name": "queue_jenkins_task", "params": {"host": "ellis.live.getpantheon.com", "task_type": "update_statuses_for_site", "site": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "job_id": "966c9168-dd7b-11e4-93ef-bc764e100926"}, "queued_at": 1428448360.33306, "responses": [{"code": 302, "body": "Successfully queued update_statuses_for_site"}], "result": "succeeded", "site_id": "4ff603ab-57cd-4b66-aebd-781a58e3b3fd", "started_at": 1428448360.435099, "trace_id": "9665d710-dd7b-11e4-aa58-938fe8e7584a", "user_id": "48916be5-f717-4ae8-9578-0dc7ca081796", "workflow_id": "966a4430-dd7b-11e4-93ef-bc764e100926", "id": "966c9168-dd7b-11e4-93ef-bc764e100926", "key": "1428447600", "created_at": 1428448360.237092, "queued_time": 0.10203886032104492, "run_time": 9.964330196380615, "phase": "finished", "allow_concurrent": false, "total_time": 10.162337064743042, "type": "update_statuses_for_site", "build_url": "https://166.78.101.87:8090/jenkins/job/update_statuses_for_site/1329731/", "messages": {"2015-04-07T23:26:21.385531": {"message": "Successfully queued update_statuses_for_site", "level": "INFO"}}, "trace_log_url": "https://logs.getpantheon.com:443//#/dashboard/file/Trace_Id.json?trace_id=9665d710-dd7b-11e4-aa58-938fe8e7584a&from_iso_date=2015-04-07T23:07:40.237092Z&to_iso_date=2015-04-07T23:17:50.399429Z"}, "waiting_for_task": null, "number_of_tasks": 1, "step": 1, "user_email": "ben@getpantheon.com", "description": "Update site status"}]'
-
    request:
        method: POST
        url: 'https://dashboard.pantheon.io/api/sites/4ff603ab-57cd-4b66-aebd-781a58e3b3fd/workflows'
        headers:
            Host: dashboard.pantheon.io
            Expect: null
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.24&script=unknown)'
            Cookie: X-Pantheon-Session=0ffec038-4410-43d0-a404-46997f672d7a%3A68486878-dd87-11e4-b243-bc764e1113b5%3AbQR2fyNMh5PQXN6F2Ewge
            Content-type: application/json
        body: '{"type":"update_site_organization_membership","params":{}}'
    response:
        status:
            http_version: '1.1'
            code: '401'
            message: Unauthorized
        headers:
            Server: nginx
            Date: 'Mon, 03 Aug 2015 23:14:00 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Content-Length: '57'
            Connection: keep-alive
            X-Pantheon-Trace-Id: 52f69e80-3a35-11e5-a36f-17cb246d5122
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Vary: Accept-Encoding
        body: '"Invalid or expired session header: X-Pantheon-Session\n"'
