
-
    request:
        method: POST
        url: 'https://onebox/api/authorize'
        headers:
            Host: onebox
            Expect: null
            Accept-Encoding: null
            User-Agent: 'Terminus/0.10.4 (php_version=5.5.30&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:34421cc4-d9c9-11e5-8885-bc764e10f058:7KcuHXJW2twUGPyYs5Crk'
            headers: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:34421cc4-d9c9-11e5-8885-bc764e10f058:7KcuHXJW2twUGPyYs5Crk'
            verify: ''
            json: password1
            Accept: null
        body: '{"email":"devuser@pantheon.io","password":"password1"}'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Feb 2016 01:03:20 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Content-Length: '182'
            Connection: keep-alive
            X-Pantheon-Trace-Id: 3af35e70-d9c9-11e5-90b4-bd642d89c822
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Vary: Accept-Encoding
        body: '{"session":"c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d","expires_at":1458608600,"user_id":"c2653a9a-308f-4207-b3a1-36a73411c818"}'
-
    request:
        method: GET
        url: 'https://onebox/api/users/c2653a9a-308f-4207-b3a1-36a73411c818/memberships/sites?limit=100'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.10.4 (php_version=5.5.30&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            headers: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            verify: ''
            method: get
            absolute_url: ''
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Feb 2016 01:03:22 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 3c163390-d9c9-11e5-90b4-bd642d89c822
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"6recjIRq1HfadJjzNhZZGA=="'
            Vary: Accept-Encoding
        body: '[{"archived": false, "invited_by_id": null, "role": "team_member", "id": "fa74a730-b8ff-4555-9b83-43cc52aa0915", "key": "c2653a9a-308f-4207-b3a1-36a73411c818", "site_id": "fa74a730-b8ff-4555-9b83-43cc52aa0915", "user_id": "c2653a9a-308f-4207-b3a1-36a73411c818", "site": {"user_in_charge_id": "c2653a9a-308f-4207-b3a1-36a73411c818", "product": {"id": "327f0b1b-b39a-4be4-8528-e20c4fe29d75", "longname": "WordPress"}, "service_level": "pro", "user_in_charge": {"profile": {"utm_term": "", "tracking_first_organization_invite": 1455227708, "google_adwords_pushed_code_do_send": null, "utm_content": "", "experiments": {"welcome_video": "not_shown"}, "full_name": "Dev User", "utm_device": "", "web_services_business": null, "utm_campaign": "", "invites_sent": 16, "google_adwords_paid_for_site_do_send": null, "verify": 1, "tracking_first_code_push": 1453339165, "google_adwords_account_registered_sent": 1452276197, "invites_to_user": 16, "utm_medium": "", "job_function": "", "tracking_first_workflow_in_live": 1452816101, "google_adwords_account_registered_do_send": null, "tracking_first_team_invite": 1452276332, "firstname": "Dev", "invites_to_site": 4, "lastname": "User", "pda_campaign": null, "utm_source": "", "google_adwords_pushed_code_sent": 1453835175, "last-org-spinup": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "tracking_first_site_create": 1452728901, "guilty_of_abuse": null, "invites_to_org": 12, "tracking_first_site_upgrade": 1452723003, "google_adwords_paid_for_site_sent": 1452723155, "modified": 1452276194, "maxdevsites": 2, "lead_type": "", "organization": ""}, "id": "c2653a9a-308f-4207-b3a1-36a73411c818", "email": "devuser@pantheon.io"}, "upstream_updates_by_environment": {"remote_head": "22239d8dc2e2d99cdc10d9607063dc93f7991bb8", "ahead": 1, "remote_branch": "refs/remotes/origin/master", "dev": {"has_code": true, "is_up_to_date_with_upstream": false}, "behind": 1, "has_code": true, "has_remote_head": false, "remote_url": "https://github.com/pantheon-systems/WordPress"}, "purchased_at": 1456189155, "framework": "wordpress", "upstream": {"url": "https://github.com/pantheon-systems/WordPress", "product_id": "327f0b1b-b39a-4be4-8528-e20c4fe29d75", "branch": "master"}, "owner": "c2653a9a-308f-4207-b3a1-36a73411c818", "attributes": {"label": "behat-tests"}, "holder": {"profile": {"machine_name": null, "change_service_url": null, "name": "EnterpriseOrg", "email_domain": null, "org_logo_width": null, "org_logo_height": null, "base_domain": null, "billing_url": "http://tesladethray.com", "terms_of_service": null, "org_logo": null}, "id": "5cba2a5a-fe72-4cf4-b733-6058ede27332"}, "id": "fa74a730-b8ff-4555-9b83-43cc52aa0915", "preferred_zone": "onebox", "product_id": "327f0b1b-b39a-4be4-8528-e20c4fe29d75", "created_by_user_id": "c2653a9a-308f-4207-b3a1-36a73411c818", "holder_id": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "name": "behat-tests", "created": 1456189125, "instrument": "ad82f83d-ea58-4c23-b05a-23d0f3112232", "holder_type": "organization", "php_version": 55, "organization": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "last_code_push": {"timestamp": "2016-02-23T00:58:56", "user_uuid": null}}}]'
-
    request:
        method: GET
        url: 'https://onebox/api/users/c2653a9a-308f-4207-b3a1-36a73411c818/memberships/organizations?limit=100'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.10.4 (php_version=5.5.30&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            headers: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            verify: ''
            method: get
            absolute_url: ''
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Feb 2016 01:03:22 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 3c58e1e0-d9c9-11e5-90b4-bd642d89c822
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"uev1Wg1fBkJUzUckcXad1g=="'
            Vary: Accept-Encoding
        body: '[{"archived": false, "invited_by_id": null, "role": "admin", "id": "c44e5de1-77b5-4151-b89f-9f548c5d909e", "key": "c2653a9a-308f-4207-b3a1-36a73411c818", "organization_id": "c44e5de1-77b5-4151-b89f-9f548c5d909e", "user_id": "c2653a9a-308f-4207-b3a1-36a73411c818", "admin": true, "organization": {"profile": {"machine_name": "anotherorg", "change_service_url": null, "name": "AnotherOrg", "email_domain": null, "org_logo_width": 85, "org_logo_height": 85, "base_domain": null, "billing_url": null, "terms_of_service": null, "org_logo": null}, "id": "c44e5de1-77b5-4151-b89f-9f548c5d909e"}}, {"archived": false, "invited_by_id": null, "role": "admin", "id": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "key": "c2653a9a-308f-4207-b3a1-36a73411c818", "organization_id": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "user_id": "c2653a9a-308f-4207-b3a1-36a73411c818", "admin": true, "organization": {"profile": {"machine_name": "enterpriseorg", "change_service_url": null, "name": "EnterpriseOrg", "email_domain": null, "org_logo_width": 85, "org_logo_height": 85, "base_domain": null, "billing_url": "http://tesladethray.com", "terms_of_service": null, "org_logo": null}, "id": "5cba2a5a-fe72-4cf4-b733-6058ede27332"}}]'
-
    request:
        method: GET
        url: 'https://onebox/api/organizations/c44e5de1-77b5-4151-b89f-9f548c5d909e/memberships/sites?limit=100'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.10.4 (php_version=5.5.30&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            headers: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            verify: ''
            method: get
            absolute_url: ''
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Feb 2016 01:03:23 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 3c8d5f60-d9c9-11e5-90b4-bd642d89c822
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"2-d4cbb29"'
            Vary: Accept-Encoding
        body: '[]'
-
    request:
        method: GET
        url: 'https://onebox/api/organizations/5cba2a5a-fe72-4cf4-b733-6058ede27332/memberships/sites?limit=100'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.10.4 (php_version=5.5.30&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            headers: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            verify: ''
            method: get
            absolute_url: ''
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Feb 2016 01:03:23 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 3cc49c00-d9c9-11e5-90b4-bd642d89c822
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"dos8VE/oX9XxUEONBjz5ow=="'
            Vary: Accept-Encoding
        body: '[{"archived": false, "invited_by_id": null, "role": "team_member", "id": "fa74a730-b8ff-4555-9b83-43cc52aa0915", "key": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "organization_id": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "site_id": "fa74a730-b8ff-4555-9b83-43cc52aa0915", "site": {"user_in_charge_id": "c2653a9a-308f-4207-b3a1-36a73411c818", "product": {"id": "327f0b1b-b39a-4be4-8528-e20c4fe29d75", "longname": "WordPress"}, "service_level": "pro", "user_in_charge": {"profile": {"utm_term": "", "tracking_first_organization_invite": 1455227708, "google_adwords_pushed_code_do_send": null, "utm_content": "", "experiments": {"welcome_video": "not_shown"}, "full_name": "Dev User", "utm_device": "", "web_services_business": null, "utm_campaign": "", "invites_sent": 16, "google_adwords_paid_for_site_do_send": null, "verify": 1, "tracking_first_code_push": 1453339165, "google_adwords_account_registered_sent": 1452276197, "invites_to_user": 16, "utm_medium": "", "job_function": "", "tracking_first_workflow_in_live": 1452816101, "google_adwords_account_registered_do_send": null, "tracking_first_team_invite": 1452276332, "firstname": "Dev", "invites_to_site": 4, "lastname": "User", "pda_campaign": null, "utm_source": "", "google_adwords_pushed_code_sent": 1453835175, "last-org-spinup": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "tracking_first_site_create": 1452728901, "guilty_of_abuse": null, "invites_to_org": 12, "tracking_first_site_upgrade": 1452723003, "google_adwords_paid_for_site_sent": 1452723155, "modified": 1452276194, "maxdevsites": 2, "lead_type": "", "organization": ""}, "id": "c2653a9a-308f-4207-b3a1-36a73411c818", "email": "devuser@pantheon.io"}, "upstream_updates_by_environment": {"remote_head": "22239d8dc2e2d99cdc10d9607063dc93f7991bb8", "ahead": 1, "remote_branch": "refs/remotes/origin/master", "dev": {"has_code": true, "is_up_to_date_with_upstream": false}, "behind": 1, "has_code": true, "has_remote_head": false, "remote_url": "https://github.com/pantheon-systems/WordPress"}, "purchased_at": 1456189155, "framework": "wordpress", "upstream": {"url": "https://github.com/pantheon-systems/WordPress", "product_id": "327f0b1b-b39a-4be4-8528-e20c4fe29d75", "branch": "master"}, "owner": "c2653a9a-308f-4207-b3a1-36a73411c818", "attributes": {"label": "behat-tests"}, "holder": {"profile": {"machine_name": null, "change_service_url": null, "name": "EnterpriseOrg", "email_domain": null, "org_logo_width": null, "org_logo_height": null, "base_domain": null, "billing_url": "http://tesladethray.com", "terms_of_service": null, "org_logo": null}, "id": "5cba2a5a-fe72-4cf4-b733-6058ede27332"}, "id": "fa74a730-b8ff-4555-9b83-43cc52aa0915", "preferred_zone": "onebox", "product_id": "327f0b1b-b39a-4be4-8528-e20c4fe29d75", "created_by_user_id": "c2653a9a-308f-4207-b3a1-36a73411c818", "holder_id": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "name": "behat-tests", "created": 1456189125, "instrument": "ad82f83d-ea58-4c23-b05a-23d0f3112232", "holder_type": "organization", "php_version": 55, "organization": "5cba2a5a-fe72-4cf4-b733-6058ede27332", "last_code_push": {"timestamp": "2016-02-23T00:58:56", "user_uuid": null}}, "tags": []}]'
-
    request:
        method: GET
        url: 'https://onebox/api/sites/fa74a730-b8ff-4555-9b83-43cc52aa0915/environments'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.10.4 (php_version=5.5.30&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            headers: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            verify: ''
            method: get
            absolute_url: ''
            options: get
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Feb 2016 01:03:25 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 3d9a1470-d9c9-11e5-90b4-bd642d89c822
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"39a-1a8dd245"'
            Vary: Accept-Encoding
        body: '{"live": {"environment_created": 1456189125, "dns_zone": "onebox.pantheon.io", "randseed": "2NI8I6EQ24DRDUUTNZMW0RGLJ7C615VL", "number_allow_domains": 1, "lock": {"username": null, "password": null, "locked": false}, "styx_cluster": "styx-sara-onebox3.onebox.pantheon.io"}, "test": {"environment_created": 1456189125, "dns_zone": "onebox.pantheon.io", "randseed": "YVWN9WCMM1ZF74AHJ1WHRK98HPOQDJ5H", "lock": {"username": null, "password": null, "locked": false}, "styx_cluster": "styx-sara-onebox3.onebox.pantheon.io"}, "dev": {"watchers": 1, "diffstat": {}, "on_server_development": true, "environment_created": 1456189125, "dns_zone": "onebox.pantheon.io", "randseed": "ERXYCNV2N938YXYG432J53V4HO9P31Q3", "target_ref": "refs/heads/master", "lock": {"username": null, "password": null, "locked": false}, "target_commit": "b4999026c784a517c6fedc64fa7957a0db985530", "styx_cluster": "styx-sara-onebox3.onebox.pantheon.io"}}'
-
    request:
        method: GET
        url: 'https://onebox/api/sites/fa74a730-b8ff-4555-9b83-43cc52aa0915/environments/live/hostnames?hydrate='
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.10.4 (php_version=5.5.30&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            headers: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            verify: ''
            method: get
            absolute_url: ''
            options: get
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Feb 2016 01:03:26 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Content-Length: '271'
            Connection: keep-alive
            X-Pantheon-Trace-Id: 3e802eb0-d9c9-11e5-90b4-bd642d89c822
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"10f-845cf188"'
            Vary: Accept-Encoding
        body: '{"testdomain.com": {"dns_zone_name": null, "environment": "live", "site_id": "fa74a730-b8ff-4555-9b83-43cc52aa0915"}, "live-behat-tests.onebox.pantheon.io": {"dns_zone_name": "onebox.pantheon.io", "environment": "live", "site_id": "fa74a730-b8ff-4555-9b83-43cc52aa0915"}}'
-
    request:
        method: DELETE
        url: 'https://onebox/api/sites/fa74a730-b8ff-4555-9b83-43cc52aa0915/environments/live/hostnames/testdomain.com'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.10.4 (php_version=5.5.30&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            headers: 'Bearer c2653a9a-308f-4207-b3a1-36a73411c818:3afa29ee-d9c9-11e5-9cdc-bc764e10f058:vGVMVLBEO0UBYzzbjzn3d'
            verify: ''
            method: delete
            absolute_url: ''
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Feb 2016 01:03:27 GMT'
            Content-Type: 'text/html; charset=utf-8'
            Content-Length: '4'
            Connection: keep-alive
            X-Pantheon-Trace-Id: 3ec6ad90-d9c9-11e5-90b4-bd642d89c822
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Vary: Accept-Encoding
        body: '"Ok"'
